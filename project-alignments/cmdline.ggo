# (c) 2022-2023 Tuukka Norri
# This code is licensed under MIT license (see LICENSE for details).

package		"project-alignments"
version		"0.1"
purpose		"Project alignments to founder sequences to a given reference sequence"
usage		"project_alignments --alignments=alignments.bam --msa-index=msa-index.dat --reference=ref.fa > projected.bam"

option		"alignments"				a	"Alignment file path"														string	typestr = "filename"	optional
option		"msa-index"					m	"MSA index path"															string	typestr = "filename"	required
option		"reference"					r	"Reference sequence FASTA path"												string	typestr = "filename"	required
option		"reference-id"				i	"Reference sequence ID"														string							required
option		"reference-msa-id"			d	"Reference sequence ID in MSA index (same as reference ID by default)"		string							optional
option		"output-ref-id"				o	"Output reference sequence ID (same as reference sequence ID by default)"	string							optional
option		"ref-id-separator"			s	"Reference ID separator in input"											string	default = "_"			optional
option		"realigned-ranges-tag"		t	"Use the given SAM tag for the re-aligned ranges (/[XYZ][A-Za-z0-9]/)"		string	default = "XR"			optional
option		"primary-only"				p	"Consider primary alignments only"											flag	off
option		"print-invocation"			-	"Output the invocation"														flag	off									hidden
option		"debugging-output"			-	"Include debugging information in the output"								flag	off									hidden

section		"Re-alignment options"
option		"gap-opening-cost"			g	"Gap opening cost when re-aligning runs of insertions and deletions"		int		default = "0"			optional
option		"gap-extension-cost"		e	"Gap extension cost when re-aligning runs of insertions and deletions"		int		default = "-1"			optional
option		"use-read-base-qualities"	q	"Take base qualities into account when re-aligning"							flag	off

section		"Re-aligned range output"
option		"output-realigned-ranges"	l	"Output re-aligned ranges as TSV to the given path"							string	typestr = "filename"	optional
option		"keep-duplicate-ranges"		-	"Keep duplicate ranges (useful with --debugging-output)"					flag	off									hidden
